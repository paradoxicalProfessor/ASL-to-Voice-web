# Configuration file for ASL Detection System
# Modify these values to customize your training and inference

# ===========================
# TRAINING CONFIGURATION
# ===========================

TRAINING:
  # Model size: 'n' (nano), 's' (small), 'm' (medium), 'l' (large), 'x' (xlarge)
  # Recommendation: 's' for best balance of speed and accuracy
  MODEL_SIZE: 's'
  
  # Training epochs (recommended: 100-200 for high accuracy)
  EPOCHS: 150
  
  # Batch size (adjust based on GPU memory)
  # 16: Most GPUs (8GB+)
  # 8: Smaller GPUs (4GB)
  # 32: High-end GPUs (16GB+)
  BATCH_SIZE: 16
  
  # Input image size (pixels)
  # 640: Standard, good balance
  # 800: Higher accuracy, slower
  # 416: Faster, lower accuracy
  IMAGE_SIZE: 640
  
  # Device: '0' for GPU, 'cpu' for CPU, '0,1' for multi-GPU
  DEVICE: '0'
  
  # Early stopping patience (epochs without improvement)
  PATIENCE: 30
  
  # Learning rate settings
  LEARNING_RATE_INITIAL: 0.001
  LEARNING_RATE_FINAL: 0.01  # As fraction of initial
  
  # Data augmentation
  AUGMENTATION:
    HSV_H: 0.015       # Hue augmentation
    HSV_S: 0.7         # Saturation augmentation
    HSV_V: 0.4         # Value augmentation
    ROTATION: 10.0     # Rotation degrees
    TRANSLATE: 0.1     # Translation fraction
    SCALE: 0.5         # Scale factor
    FLIP_LR: 0.5       # Horizontal flip probability
    MOSAIC: 1.0        # Mosaic augmentation
    MIXUP: 0.1         # Mixup augmentation

# ===========================
# EVALUATION CONFIGURATION
# ===========================

EVALUATION:
  # Confidence threshold for detections
  CONFIDENCE_THRESHOLD: 0.25
  
  # IoU threshold for NMS
  IOU_THRESHOLD: 0.45
  
  # Target accuracy (mAP@0.5)
  TARGET_ACCURACY: 0.96

# ===========================
# EXPORT CONFIGURATION
# ===========================

EXPORT:
  # Export formats: onnx, tflite, torchscript, coreml, openvino
  FORMATS:
    - onnx
    - tflite
  
  # Optimize exported models
  OPTIMIZE: true
  
  # Simplify ONNX model
  SIMPLIFY: true
  
  # INT8 quantization for TFLite (smaller, faster)
  INT8_QUANTIZATION: false
  
  # FP16 quantization (faster on compatible hardware)
  FP16_QUANTIZATION: false

# ===========================
# LIVE INFERENCE CONFIGURATION
# ===========================

INFERENCE:
  # Confidence threshold for live detection
  CONFIDENCE_THRESHOLD: 0.6
  
  # Temporal smoothing settings
  SMOOTHING_WINDOW: 15          # Number of frames to average
  MIN_DETECTION_FRAMES: 8       # Minimum frames to register letter
  
  # Letter cooldown (seconds before same letter can be added again)
  LETTER_COOLDOWN: 1.5
  
  # Display settings
  DISPLAY_WIDTH: 1280
  DISPLAY_HEIGHT: 720
  
  # Camera settings
  CAMERA_INDEX: 0               # Default webcam (0), change if needed
  
  # Text-to-Speech settings
  TTS:
    RATE: 150                   # Speech speed (50-300)
    VOLUME: 0.9                 # Volume (0-1)

# ===========================
# DATASET CONFIGURATION
# ===========================

DATASET:
  # Path to data.yaml file
  DATA_YAML: 'data.yaml'
  
  # Number of worker threads for data loading
  WORKERS: 8
  
  # Cache images in memory for faster training
  CACHE: true

# ===========================
# PATHS
# ===========================

PATHS:
  # Directory for training outputs
  TRAIN_OUTPUT: 'runs/train'
  
  # Directory for evaluation outputs
  EVAL_OUTPUT: 'runs/eval'
  
  # Directory for exported models
  EXPORT_OUTPUT: 'runs/export'
  
  # Default trained model path
  DEFAULT_MODEL: 'runs/train/asl_detection/weights/best.pt'

# ===========================
# GPU SETTINGS
# ===========================

GPU:
  # Enable automatic mixed precision (faster on modern GPUs)
  AMP: true
  
  # Enable deterministic algorithms (reproducible but slower)
  DETERMINISTIC: false
  
  # CUDA benchmark mode (faster but uses more memory)
  CUDNN_BENCHMARK: true
